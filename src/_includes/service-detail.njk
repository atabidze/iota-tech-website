{% extends "base.njk" %}

{% block content %}
<section class="page-section service-detail-page">
    <div class="container">

        <div class="section-title text-center" data-aos="fade-up">
            <h1>{{ title }}</h1>
            <div class="page-content" style="max-width: 800px; margin: 0 auto;">
                {{ general_description | markdownify | safe }}
            </div>
        </div>

        {% if detailed_list and detailed_list.length > 0 %}
        <div class="feature-timeline">
            {% for item in detailed_list %}
                {# --- Corrected logic using modulus operator --- #}
                {% set section_class = 'image-left' if loop.index0 % 2 == 0 else 'image-right' %}
                {% set animation_direction = 'fade-right' if loop.index0 % 2 == 0 else 'fade-left' %}
                
                <div class="feature-section {{ section_class }}">
                    <div class="feature-visual" data-aos="{{ animation_direction }}">
                        <div class="feature-icon">
                            {% lucide item.icon %}
                        </div>
                    </div>
                    <div class="feature-text glass-panel" data-aos="{{ 'fade-left' if animation_direction == 'fade-right' else 'fade-right' }}">
                        <h3 class="feature-title">{{ item.point }}</h3>
                        {% if item.description %}
                        <p class="feature-desc">{{ item.description }}</p>
                        {% endif %}
                    </div>
                </div>
            {% endfor %}
        </div>
        {% endif %}

    </div>
</section>
{% endblock %}